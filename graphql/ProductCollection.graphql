fragment ProductCardFragment on Product {
  id
  slug
  name
  category {
    id
    name
  }
  media {
    url
    alt
    type
  }
}

query AdditionalProductData($slug: String!) {
  product(slug: $slug) {
    externalReference
    rating
    pricing {
      priceRange {
        start {
          gross {
            amount
          }
        }
      }
    }
    attributes {
      attribute {
        slug
      }
      values {
        name
      }
    }
    variants {
    ...ProductVariantFragment
  }
    defaultVariant {
    ...ProductVariantFragment
    }
  }
}


query ProductCollection(
  $before: String
  $after: String
  $first: Int = 4
  $filter: ProductFilterInput
  $sortBy: ProductOrder
  $channel: String!
) {
  products(
    first: $first
    channel: $channel
    after: $after
    before: $before
    filter: $filter
    sortBy: $sortBy
  ) {
    totalCount
    edges {
      cursor
      node {
        ...ProductCardFragment
      }
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}


query SearchByProductName(
  $first: Int = 4
  $filter: ProductFilterInput
  $channel: String!
) {
  products(
    first: $first
    channel: $channel
    filter: $filter
  ) {
    totalCount
    edges {
      cursor
      node {
        name
      }
    }
  }
}

query SearchByCategoryName(
  $first: Int = 4
  $filter: CategoryFilterInput
) {
  categories(
    first: $first
    filter: $filter
  ) {
    totalCount
    edges {
      cursor
      node {
        name
      }
    }
  }
}
