fragment ProductCardFragment on Product {
  id
  slug
  name
  thumbnail {
    url
    alt
  }
  category {
    id
    name
  }
  media {
    url
    alt
    type
  }
  attributes {
    attribute {
      slug
    }
    values {
      name
    }
  }
}


query ProductCollection(
  $before: String
  $after: String
  $first: Int = 4
  $filter: ProductFilterInput
  $sortBy: ProductOrder
  $channel: String!
) {
  products(
    first: $first
    channel: $channel
    after: $after
    before: $before
    filter: $filter
    sortBy: $sortBy
  ) {
    totalCount
    edges {
      cursor
      node {
        ...ProductFragment
      }
    }
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
  }
}


query SearchByProductName(
  $first: Int = 4
  $filter: ProductFilterInput
  $channel: String!
) {
  products(
    first: $first
    channel: $channel
    filter: $filter
  ) {
    totalCount
    edges {
      cursor
      node {
        name
      }
    }
  }
}

query SearchByCategoryName(
  $first: Int = 4
  $filter: CategoryFilterInput
) {
  categories(
    first: $first
    filter: $filter
  ) {
    totalCount
    edges {
      cursor
      node {
        name
      }
    }
  }
}
