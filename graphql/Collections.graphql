fragment CollectionFragment on Collection {
  id
  name
  description
  slug
  backgroundImage {
    url
    alt
  }
  products(first: 5, filter: $filter) {  # Add filter here
    edges {
      node {
        id
        name
        pricing{
          priceRange{
            start{
              gross{
                amount
                currency
              }
            }
          }
        }
        thumbnail {
          url
          alt
        }
      }
    }
  }
}

query getCollections($filter: ProductFilterInput) {  # Declare the filter variable here
  collections(first: 10, channel: "ci") {
    edges {
      node {
        ...CollectionFragment
      }
    }
  }
}

query CollectionBySlug($slug: String!) {
  collection(slug: $slug, channel: "ci") {
    id
    name
    slug
    seoTitle
    seoDescription
    description
    backgroundImage {
      url
      alt
    }
  }
}
