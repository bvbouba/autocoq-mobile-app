fragment CollectionFragment on Collection {
  id
  name
  description
  slug
  backgroundImage {
    url
    alt
  }
  products(first: 5, filter: $filter) {  # Add filter here
    edges {
      node {
        id
        name
        thumbnail {
          url
          alt
        }
      }
    }
  }
}

query getCollections($filter: ProductFilterInput) {  # Declare the filter variable here
  collections(first: 10, channel: "ci") {
    edges {
      node {
        ...CollectionFragment
      }
    }
  }
}
